{% extends 'layouts/base.html'%}

{% load widget_tweaks %}


{% block content %}
<div class="container mt-5">
  <h1>Sign up</h1>
  <form method="POST">

    {% csrf_token %}

    <!-- Formulario renderizado con Bootstrap -->

    <div class="form-group">
      {{form.username.label_tag}}
      {% render_field form.username class="form-control" %}
      {% if form.username.errors %}
      {% for error in form.username.errors %}
      <small class="form-text text-danger">{{error}}</small>
      {% endfor %}
      {% endif %}
    </div>

    <div class="form-group">
      {{form.password1.label_tag}}
      {% render_field form.password1 class="form-control" %}
      {% if form.password1.errors %}
      {% for error in form.password1.errors %}
      <small class="form-text text-danger">{{error}}</small>
      {% endfor %}
      {% endif %}

    </div>

    <div class="form-group">

      {{ form.password2.label_tag }}
      {% render_field form.password2 class="form-control" %}
      {% if form.password2.errors %}
      {% for error in form.password2.errors %}
      <small class="form-text text-danger"> {{error}}</small>
      {% endfor %}
      {% endif %}
    </div>

    <button type="submit" class="btn btn-primary">Sign Up</button>

    <!-- Mostrar errores generales del formulario -->
    {% if form.non_field_errors  %}
    <ul class="mt-2">
      {% for error in form.non_field_errors %}
      <li class="text-danger">{{error}}</li>
      {% endfor %}
    </ul>
    {% endif %}


  </form>

  <!-- Mostrar error global de validaciÃ³n -->
  {% if error %}
  <p class="text-danger mt-2">{{error}}</p>
  {% endif %}

</div>
{% endblock %}